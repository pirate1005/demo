<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Statistic - BandarMology Admin</title>
    <link rel="icon" href="../assets/img/logo.png" type="image/x-icon">

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            green: '#27AE60',
                            dark: '#0f0535',
                            bg: '#F9FAFB',
                            orange: '#FF4500'
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        logo: ['Poppins', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:ital,wght@0,200;0,300;0,400;0,600;1,200&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>

    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>

    <style>
        .custom-scroll::-webkit-scrollbar {
            height: 6px;
            width: 6px;
        }

        .custom-scroll::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 3px;
        }

        .custom-scroll::-webkit-scrollbar-track {
            background: #f1f5f9;
        }

        /* Highcharts Custom Style */
        .highcharts-figure,
        .highcharts-data-table table {
            min-width: 310px;
            max-width: 100%;
            margin: 1em auto;
        }

        .highcharts-container {
            border-radius: 0.5rem;
        }
    </style>
</head>

<body class="bg-gray-50 font-sans text-gray-800" x-data="{ sidebarOpen: false, currentTab: 'visitor' }">

    <div class="flex h-screen overflow-hidden">

        <aside :class="sidebarOpen ? 'translate-x-0' : '-translate-x-full'"
            class="fixed inset-y-0 left-0 z-50 w-64 bg-brand-dark text-white transition-transform duration-300 ease-in-out lg:static lg:translate-x-0 flex flex-col shadow-2xl">

            <div class="flex items-center justify-center h-20 border-b border-gray-700 bg-brand-dark/50">
                <a href="index.html" class="flex items-center gap-2 group">
                    <img src="../assets/img/logo.png" alt="Logo" class="h-8 w-auto object-contain brightness-0 invert">
                    <span class="text-xl font-extralight tracking-tight font-logo text-white"
                        style="letter-spacing: -0.05em;">
                        Bandar<span class="text-brand-green font-normal">mo</span>logy.net
                    </span>
                </a>
            </div>

            <nav class="flex-1 px-4 py-6 space-y-2 overflow-y-auto custom-scroll">
                <p class="px-4 text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2">Admin Menu</p>

                <a href="dashboard.html"
                    class="flex items-center gap-3 px-4 py-3 text-gray-300 hover:bg-white/10 hover:text-white rounded-xl transition">
                    <i class="fas fa-th-large w-5"></i> Dashboard
                </a>

                <a href="activity.html"
                    class="flex items-center gap-3 px-4 py-3 text-gray-300 hover:bg-white/10 hover:text-white rounded-xl transition">
                    <i class="fas fa-history w-5"></i> Activity Logs
                </a>

                <a href="promo.html"
                    class="flex items-center gap-3 px-4 py-3 text-gray-300 hover:bg-white/10 hover:text-white rounded-xl transition">
                    <i class="fas fa-tags w-5"></i> Promo Code
                </a>

                <a href="members.html"
                    class="flex items-center gap-3 px-4 py-3 text-gray-300 hover:bg-white/10 hover:text-white rounded-xl transition">
                    <i class="fas fa-users w-5"></i> Member Management
                </a>

                <a href="products.html"
                    class="flex items-center gap-3 px-4 py-3 text-gray-300 hover:bg-white/10 hover:text-white rounded-xl transition">
                    <i class="fas fa-box w-5"></i> Products
                </a>

                <a href="gallery.html"
                    class="flex items-center gap-3 px-4 py-3 text-gray-300 hover:bg-white/10 hover:text-white rounded-xl transition">
                    <i class="fas fa-images w-5"></i> Gallery Management
                </a>


                <a href="testimonial.html"
                    class="flex items-center gap-3 px-4 py-3 text-gray-300 hover:bg-white/10 hover:text-white rounded-xl transition">
                    <i class="fas fa-comment-dots w-5"></i> Testimonial
                </a>

                <a href="sales.html"
                    class="flex items-center gap-3 px-4 py-3 text-gray-300 hover:bg-white/10 hover:text-white rounded-xl transition">
                    <i class="fas fa-money-bill-wave w-5"></i> Sales Management
                </a>

                <a href="withdraw.html"
                    class="flex items-center gap-3 px-4 py-3 text-gray-300 hover:bg-white/10 hover:text-white rounded-xl transition">
                    <i class="fas fa-hand-holding-usd w-5"></i> Withdrawal
                </a>

                <a href="contact.html"
                    class="flex items-center gap-3 px-4 py-3 text-gray-300 hover:bg-white/10 hover:text-white rounded-xl transition">
                    <i class="fas fa-envelope w-5"></i> Contact Management
                </a>

                <a href="download.html"
                    class="flex items-center gap-3 px-4 py-3 text-gray-300 hover:bg-white/10 hover:text-white rounded-xl transition">
                    <i class="fas fa-download w-5"></i> Download Management
                </a>

                <a href="content.html"
                    class="flex items-center gap-3 px-4 py-3 text-gray-300 hover:bg-white/10 hover:text-white rounded-xl transition">
                    <i class="fas fa-newspaper w-5"></i> Content Management
                </a>

                <a href="banner.html"
                    class="flex items-center gap-3 px-4 py-3 text-gray-300 hover:bg-white/10 hover:text-white rounded-xl transition">
                    <i class="fas fa-image w-5"></i> Banner Management
                </a>

                <a href="broadcast.html"
                    class="flex items-center gap-3 px-4 py-3 text-gray-300 hover:bg-white/10 hover:text-white rounded-xl transition">
                    <i class="fas fa-bullhorn w-5"></i> Broadcast
                </a>

                <a href="email.html"
                    class="flex items-center gap-3 px-4 py-3 text-gray-300 hover:bg-white/10 hover:text-white rounded-xl transition">
                    <i class="fas fa-envelope-open-text w-5"></i> Email Management
                </a>

                <a href="subscribe.html"
                    class="flex items-center gap-3 px-4 py-3 text-gray-300 hover:bg-white/10 hover:text-white rounded-xl transition">
                    <i class="fas fa-user-clock w-5"></i> Subscribe Management
                </a>

                <a href="cronjob.html"
                    class="flex items-center gap-3 px-4 py-3 text-gray-300 hover:bg-white/10 hover:text-white rounded-xl transition">
                    <i class="fas fa-clock w-5"></i> Cronjob Management
                </a>

                <a href="inbox.html"
                    class="flex items-center gap-3 px-4 py-3 text-gray-300 hover:bg-white/10 hover:text-white rounded-xl transition">
                    <div class="flex items-center gap-3">
                        <i class="fas fa-inbox w-5"></i> Inbox
                    </div>
                    <span
                        class="bg-red-500 text-white text-[10px] font-bold px-2 py-0.5 rounded-full shadow-sm animate-pulse">3</span>
                </a>

                <a href="statistic.html"
                    class="flex items-center gap-3 px-4 py-3 bg-brand-green rounded-xl text-white font-medium shadow-lg shadow-green-900/20">
                    <i class="fas fa-chart-pie w-5"></i> Statistic
                </a>

                <a href="admin_event.html"
                    class="flex items-center gap-3 px-4 py-3 text-gray-300 hover:bg-white/10 hover:text-white rounded-xl transition">
                    <i class="fas fa-calendar-alt w-5"></i> Event Management
                </a>


                <p class="px-4 text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2 mt-6">Settings</p>

                <a href="profile.html"
                    class="flex items-center gap-3 px-4 py-3 text-gray-300 hover:bg-white/10 hover:text-white rounded-xl transition">
                    <i class="fas fa-user-cog w-5"></i> User Profile
                </a>
                <a href="../login.html"
                    class="flex items-center gap-3 px-4 py-3 text-red-400 hover:bg-red-500/10 hover:text-red-300 rounded-xl transition">
                    <i class="fas fa-sign-out-alt w-5"></i> Logout
                </a>
            </nav>

            <div class="p-4 border-t border-gray-700 bg-brand-dark/50">
                <div class="flex items-center gap-3">
                    <img src="https://randomuser.me/api/portraits/men/1.jpg"
                        class="w-10 h-10 rounded-full border-2 border-red-500">
                    <div>
                        <p class="text-sm font-bold text-white">Administrator</p>
                        <p class="text-xs text-red-400">Super Admin</p>
                    </div>
                </div>
            </div>
        </aside>

        <div x-show="sidebarOpen" @click="sidebarOpen = false" class="fixed inset-0 bg-black/50 z-40 lg:hidden"
            style="display: none;"></div>


        <div class="flex-1 flex flex-col overflow-hidden">

            <header class="bg-white border-b border-gray-200 h-20 flex items-center justify-between px-6 lg:px-10">
                <div class="flex items-center gap-4">
                    <button @click="sidebarOpen = !sidebarOpen"
                        class="lg:hidden text-gray-500 hover:text-brand-green"><i
                            class="fas fa-bars text-2xl"></i></button>
                    <h1 class="text-xl font-bold text-gray-800">Statistic</h1>
                </div>
                <div class="flex items-center gap-6">
                    <div class="text-sm text-gray-500">Last Update: <span class="font-bold text-gray-800">Today, 12:00
                            PM</span></div>
                </div>
            </header>

            <main class="flex-1 overflow-x-hidden overflow-y-auto bg-gray-50 p-6 lg:p-10">

                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                        <div class="text-gray-400 text-sm font-bold uppercase mb-1">Total Visitors (2025)</div>
                        <h3 class="text-3xl font-extrabold text-blue-500">18,450</h3>
                        <p class="text-xs text-green-500 mt-2 flex items-center gap-1"><i class="fas fa-arrow-up"></i>
                            +12% from last year</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                        <div class="text-gray-400 text-sm font-bold uppercase mb-1">Total Income (2025)</div>
                        <h3 class="text-3xl font-extrabold text-brand-green">Rp 351,000,000</h3>
                        <p class="text-xs text-green-500 mt-2 flex items-center gap-1"><i class="fas fa-arrow-up"></i>
                            +5% from last year</p>
                    </div>
                    <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-200">
                        <div class="text-gray-400 text-sm font-bold uppercase mb-1">Conversion Rate</div>
                        <h3 class="text-3xl font-extrabold text-orange-500">2.4%</h3>
                        <p class="text-xs text-gray-400 mt-2">Visitor to Paid Member</p>
                    </div>
                </div>

                <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden mb-8">
                    <div class="border-b border-gray-100 flex">
                        <button @click="currentTab = 'visitor'; setTimeout(() => { renderVisitorChart() }, 100)"
                            :class="currentTab === 'visitor' ? 'border-b-2 border-brand-green text-brand-green bg-green-50' : 'text-gray-500 hover:text-gray-700'"
                            class="flex-1 py-4 text-center font-bold text-sm transition focus:outline-none">
                            <i class="fas fa-users mr-2"></i> Statistic Visitors
                        </button>
                        <button @click="currentTab = 'income'; setTimeout(() => { renderIncomeChart() }, 100)"
                            :class="currentTab === 'income' ? 'border-b-2 border-brand-green text-brand-green bg-green-50' : 'text-gray-500 hover:text-gray-700'"
                            class="flex-1 py-4 text-center font-bold text-sm transition focus:outline-none">
                            <i class="fas fa-wallet mr-2"></i> Statistic Income
                        </button>
                    </div>

                    <div class="p-6">

                        <div x-show="currentTab === 'visitor'" class="w-full">
                            <div id="visitorChartContainer" style="width:100%; height:400px;"></div>
                            <div class="mt-4 text-center text-xs text-gray-400">
                                Data berdasarkan unique IP address yang mengakses website.
                            </div>
                        </div>

                        <div x-show="currentTab === 'income'" class="w-full" style="display: none;">
                            <div id="incomeChartContainer" style="width:100%; height:400px;"></div>
                            <div class="mt-4 text-center text-xs text-gray-400">
                                Data berdasarkan total order paid (settlement) per bulan.
                            </div>
                        </div>

                    </div>
                </div>

                <div class="mt-8 text-center text-gray-400 text-xs pb-4">
                    &copy; 2025 BandarMology.net - Admin Panel
                </div>
            </main>
        </div>

    </div>

    <script>
        // Data Dummy
        const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'June', 'July', 'Aug', 'Sept', 'Oct', 'Nov', 'Dec'];

        // 1. Render Visitor Chart (Spline / Garis Lengkung) - Referensi image_b9eade.png
        function renderVisitorChart() {
            Highcharts.chart('visitorChartContainer', {
                chart: { type: 'spline' },
                title: { text: 'Monthly Traffic Visitor', style: { fontSize: '18px', fontWeight: 'bold' } },
                subtitle: { text: 'Years: 2025' },
                xAxis: { categories: months },
                yAxis: { title: { text: 'Visitors' }, min: 0 },
                tooltip: { crosshairs: true, shared: true },
                plotOptions: {
                    spline: {
                        marker: { radius: 4, lineColor: '#666666', lineWidth: 1 }
                    }
                },
                series: [{
                    name: 'Visitor',
                    data: [500, 520, 450, 300, 280, 250, 600, 1400, 1550, 3600, 4500, 2400], // Data dummy mirip grafik
                    color: '#3B82F6' // Biru
                }],
                credits: { enabled: false }
            });
        }

        // 2. Render Income Chart (Column / Batang) - Referensi image_b99904.png
        function renderIncomeChart() {
            Highcharts.chart('incomeChartContainer', {
                chart: { type: 'column' },
                title: { text: 'Monthly Income', style: { fontSize: '18px', fontWeight: 'bold' } },
                subtitle: { text: 'Years: 2025' },
                xAxis: { categories: months, crosshair: true },
                yAxis: { min: 0, title: { text: 'Income (Ribuan)' } },
                tooltip: {
                    headerFormat: '<span style="font-size:10px">{point.key}</span><table>',
                    pointFormat: '<tr><td style="color:{series.color};padding:0">{series.name}: </td>' +
                        '<td style="padding:0"><b>{point.y:.1f} k</b></td></tr>',
                    footerFormat: '</table>',
                    shared: true,
                    useHTML: true
                },
                plotOptions: {
                    column: {
                        pointPadding: 0.2,
                        borderWidth: 0
                    }
                },
                series: [{
                    name: 'Income',
                    data: [0, 0, 0, 0, 0, 0, 2700, 500, 0, 0, 0, 0], // Data dummy lonjakan di Juli/Agustus
                    color: '#0EA5E9' // Biru Langit
                }],
                credits: { enabled: false }
            });
        }

        // Init Chart saat load pertama kali
        document.addEventListener('DOMContentLoaded', function () {
            renderVisitorChart();
        });
    </script>

</body>

</html>