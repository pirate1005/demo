<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profil & Pengaturan - Affiliate Bandarmology.net</title>
    <link rel="icon" href="../assets/img/logo.png" type="image/x-icon">

    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        brand: {
                            green: '#27AE60',
                            dark: '#0f0535',
                            bg: '#F9FAFB'
                        }
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        logo: ['Poppins', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Poppins:wght@600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>

<body class="bg-gray-50 font-sans text-gray-800" x-data="{ sidebarOpen: false }">

    <div class="flex h-screen overflow-hidden">

        <aside :class="sidebarOpen ? 'translate-x-0' : '-translate-x-full'" class="fixed inset-y-0 left-0 z-50 w-64 bg-brand-dark text-white transition-transform duration-300 ease-in-out lg:static lg:translate-x-0 flex flex-col shadow-2xl">
            
            <div class="flex items-center justify-center h-20 border-b border-gray-700 bg-brand-dark/50 flex-shrink-0">
                <a href="index.html" class="flex items-center gap-2 group">
                    <img src="../assets/img/logo.png" alt="Logo" class="h-8 w-auto object-contain brightness-0 invert">
                    <span class="text-xl font-bold font-logo text-white">Bandar<span class="text-brand-green">mo</span>logy.net</span>
                </a>
            </div>

            <nav class="flex-1 px-4 py-6 space-y-1 overflow-y-auto">
                <div class="bg-brand-green/10 rounded-xl p-4 mb-6 border border-brand-green/20">
                    <p class="text-xs text-brand-green font-bold uppercase tracking-wider mb-1">Status Partner</p>
                    <div class="flex items-center gap-2">
                        <span class="w-2 h-2 bg-brand-green rounded-full animate-pulse"></span>
                        <span class="text-white font-bold text-sm">Active Affiliate</span>
                    </div>
                </div>

                <p class="px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2">Main Menu</p>
                
                <a href="affiliate_dashboard.html" class="flex items-center gap-3 px-4 py-3 text-gray-400 hover:bg-white/5 hover:text-white rounded-xl transition">
                    <i class="fas fa-th-large w-5"></i> Dashboard
                </a>

                <a href="affiliate_network.html" class="flex items-center gap-3 px-4 py-3 text-gray-400 hover:bg-white/5 hover:text-white rounded-xl transition">
                    <i class="fas fa-network-wired w-5"></i> Network / Downline
                </a>

                <a href="affiliate_withdraw.html" class="flex items-center gap-3 px-4 py-3 text-gray-400 hover:bg-white/5 hover:text-white rounded-xl transition">
                    <i class="fas fa-wallet w-5"></i> Withdrawal Komisi
                </a>

                <a href="affiliate_marketing.html" class="flex items-center gap-3 px-4 py-3 text-gray-400 hover:bg-white/5 hover:text-white rounded-xl transition">
                    <i class="fas fa-bullhorn w-5"></i> Marketing Kit
                </a>

                <p class="px-4 text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2 mt-6">Settings</p>
                
                <a href="#" class="flex items-center gap-3 px-4 py-3 bg-brand-green text-white rounded-xl font-medium shadow-lg shadow-green-900/20">
                    <i class="fas fa-user-circle w-5"></i> Profil & Rekening
                </a>

                <div class="pt-4 mt-4 border-t border-gray-700">
                    <a href="login.html" class="flex items-center gap-3 px-4 py-3 text-red-400 hover:bg-red-500/10 hover:text-red-300 rounded-xl transition">
                        <i class="fas fa-sign-out-alt w-5"></i> Logout
                    </a>
                </div>
            </nav>

            <div class="p-4 border-t border-gray-700 bg-brand-dark/50 flex-shrink-0">
                <div class="flex items-center gap-3">
                    <img src="https://randomuser.me/api/portraits/men/85.jpg" class="w-10 h-10 rounded-full border-2 border-brand-green">
                    <div>
                        <p class="text-sm font-bold text-white">Reza Mahendra</p>
                        <p class="text-xs text-gray-400">ID: AFF-8821</p>
                    </div>
                </div>
            </div>
        </aside>

        <div x-show="sidebarOpen" @click="sidebarOpen = false" class="fixed inset-0 bg-black/50 z-40 lg:hidden" style="display: none;"></div>

        <div class="flex-1 flex flex-col overflow-hidden relative">
            
            <header class="bg-white border-b border-gray-200 h-20 flex items-center justify-between px-6 lg:px-10">
                <div class="flex items-center gap-4">
                    <button @click="sidebarOpen = !sidebarOpen" class="lg:hidden text-gray-500 hover:text-brand-green">
                        <i class="fas fa-bars text-2xl"></i>
                    </button>
                    <h1 class="text-xl font-bold text-gray-800">Profil & Rekening</h1>
                </div>
            </header>

            <main class="flex-1 overflow-x-hidden overflow-y-auto bg-gray-50 p-6 lg:p-10">
                
                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    
                    <div class="lg:col-span-1">
                        <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6 text-center" 
                             x-data="{ 
                                 photo: 'https://randomuser.me/api/portraits/men/85.jpg',
                                 previewImage(e) {
                                     const file = e.target.files[0];
                                     if(file){
                                         const reader = new FileReader();
                                         reader.onload = (e) => this.photo = e.target.result;
                                         reader.readAsDataURL(file);
                                     }
                                 }
                             }">
                            
                            <div class="relative w-32 h-32 mx-auto mb-4">
                                <img :src="photo" class="w-full h-full rounded-full object-cover border-4 border-gray-100">
                                <label for="uploadPhoto" class="absolute bottom-0 right-0 bg-brand-green text-white w-8 h-8 rounded-full flex items-center justify-center cursor-pointer hover:bg-green-700 transition border-2 border-white shadow-sm">
                                    <i class="fas fa-camera text-xs"></i>
                                </label>
                                <input type="file" id="uploadPhoto" class="hidden" accept="image/*" @change="previewImage">
                            </div>

                            <h3 class="text-xl font-bold text-gray-900">Reza Mahendra</h3>
                            <p class="text-sm text-gray-500 mb-4">Affiliate Partner</p>

                            <div class="flex justify-center gap-2 mb-6">
                                <span class="px-3 py-1 bg-green-100 text-green-700 text-xs font-bold rounded-full">
                                    <i class="fas fa-check-circle"></i> Verified
                                </span>
                                <span class="px-3 py-1 bg-blue-100 text-blue-700 text-xs font-bold rounded-full">
                                    <i class="fas fa-star"></i> Top Tier
                                </span>
                            </div>

                            <div class="border-t border-gray-100 pt-4 text-left">
                                <p class="text-xs text-gray-400 font-bold uppercase mb-2">Statistik Singkat</p>
                                <div class="flex justify-between text-sm mb-2">
                                    <span class="text-gray-600">Total Komisi</span>
                                    <span class="font-bold text-gray-900">Rp 12.5 Juta</span>
                                </div>
                                <div class="flex justify-between text-sm">
                                    <span class="text-gray-600">Bergabung</span>
                                    <span class="font-bold text-gray-900">12 Jan 2025</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="lg:col-span-2 space-y-6">
                        
                        <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
                            <div class="flex items-center gap-3 mb-6 border-b border-gray-100 pb-4">
                                <div class="w-10 h-10 rounded-full bg-blue-50 text-blue-600 flex items-center justify-center">
                                    <i class="fas fa-user"></i>
                                </div>
                                <h3 class="font-bold text-gray-900 text-lg">Data Pribadi</h3>
                            </div>

                            <form class="space-y-4">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-xs font-bold text-gray-500 mb-1">Nama Lengkap</label>
                                        <input type="text" value="Reza Mahendra" class="w-full px-4 py-2 border border-gray-200 rounded-xl text-sm focus:border-brand-green focus:ring-1 focus:ring-brand-green outline-none transition bg-gray-50 text-gray-600 cursor-not-allowed" readonly>
                                    </div>
                                    <div>
                                        <label class="block text-xs font-bold text-gray-500 mb-1">No. WhatsApp</label>
                                        <input type="number" value="08123456789" class="w-full px-4 py-2 border border-gray-200 rounded-xl text-sm focus:border-brand-green focus:ring-1 focus:ring-brand-green outline-none transition">
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-xs font-bold text-gray-500 mb-1">Alamat Email</label>
                                    <input type="email" value="reza.m@gmail.com" class="w-full px-4 py-2 border border-gray-200 rounded-xl text-sm focus:border-brand-green focus:ring-1 focus:ring-brand-green outline-none transition bg-gray-50 text-gray-600 cursor-not-allowed" readonly>
                                </div>
                                <div>
                                    <label class="block text-xs font-bold text-gray-500 mb-1">Alamat Domisili</label>
                                    <textarea class="w-full px-4 py-2 border border-gray-200 rounded-xl text-sm focus:border-brand-green focus:ring-1 focus:ring-brand-green outline-none transition h-24 resize-none">Jl. Sudirman No. 45, Jakarta Selatan, DKI Jakarta</textarea>
                                </div>
                            </form>
                        </div>

                        <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6 relative overflow-hidden">
                            <div class="absolute top-0 right-0 w-20 h-20 bg-green-100 rounded-bl-full -mr-4 -mt-4 opacity-50"></div>

                            <div class="flex items-center gap-3 mb-6 border-b border-gray-100 pb-4">
                                <div class="w-10 h-10 rounded-full bg-green-50 text-brand-green flex items-center justify-center">
                                    <i class="fas fa-university"></i>
                                </div>
                                <div>
                                    <h3 class="font-bold text-gray-900 text-lg">Rekening Pencairan</h3>
                                    <p class="text-xs text-gray-500">Pastikan nama rekening sama dengan nama akun.</p>
                                </div>
                            </div>

                            <form class="space-y-4">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-xs font-bold text-gray-500 mb-1">Nama Bank</label>
                                        <div class="relative">
                                            <select class="w-full px-4 py-2 border border-gray-200 rounded-xl text-sm focus:border-brand-green focus:ring-1 focus:ring-brand-green outline-none transition appearance-none bg-white">
                                                <option value="BCA" selected>BCA</option>
                                                <option value="MANDIRI">Mandiri</option>
                                                <option value="BRI">BRI</option>
                                                <option value="BNI">BNI</option>
                                            </select>
                                            <div class="absolute inset-y-0 right-0 flex items-center px-3 pointer-events-none text-gray-500">
                                                <i class="fas fa-chevron-down text-xs"></i>
                                            </div>
                                        </div>
                                    </div>
                                    <div>
                                        <label class="block text-xs font-bold text-gray-500 mb-1">Nomor Rekening</label>
                                        <input type="number" value="1234567890" class="w-full px-4 py-2 border border-gray-200 rounded-xl text-sm focus:border-brand-green focus:ring-1 focus:ring-brand-green outline-none transition font-mono font-bold tracking-wide">
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-xs font-bold text-gray-500 mb-1">Atas Nama (Pemilik Rekening)</label>
                                    <input type="text" value="REZA MAHENDRA" class="w-full px-4 py-2 border border-gray-200 rounded-xl text-sm focus:border-brand-green focus:ring-1 focus:ring-brand-green outline-none transition uppercase">
                                </div>
                            </form>
                        </div>

                        <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-6">
                            <div class="flex items-center gap-3 mb-6 border-b border-gray-100 pb-4">
                                <div class="w-10 h-10 rounded-full bg-red-50 text-red-500 flex items-center justify-center">
                                    <i class="fas fa-lock"></i>
                                </div>
                                <h3 class="font-bold text-gray-900 text-lg">Ganti Password</h3>
                            </div>

                            <form class="space-y-4">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-xs font-bold text-gray-500 mb-1">Password Baru</label>
                                        <input type="password" class="w-full px-4 py-2 border border-gray-200 rounded-xl text-sm focus:border-brand-green focus:ring-1 focus:ring-brand-green outline-none transition" placeholder="******">
                                    </div>
                                    <div>
                                        <label class="block text-xs font-bold text-gray-500 mb-1">Konfirmasi Password</label>
                                        <input type="password" class="w-full px-4 py-2 border border-gray-200 rounded-xl text-sm focus:border-brand-green focus:ring-1 focus:ring-brand-green outline-none transition" placeholder="******">
                                    </div>
                                </div>
                            </form>
                        </div>

                        <div class="flex justify-end pt-4" x-data="{ 
                            isLoading: false,
                            saveProfile() {
                                this.isLoading = true;
                                setTimeout(() => {
                                    this.isLoading = false;
                                    Swal.fire({
                                        icon: 'success',
                                        title: 'Profil Diperbarui!',
                                        text: 'Data rekening dan profil berhasil disimpan.',
                                        confirmButtonColor: '#27AE60'
                                    });
                                }, 1500);
                            }
                        }">
                            <button @click="saveProfile()" :disabled="isLoading" 
                                    class="bg-brand-green text-white font-bold py-3 px-8 rounded-xl hover:bg-green-700 shadow-lg shadow-green-200 transition transform hover:-translate-y-1 flex items-center gap-2"
                                    :class="isLoading ? 'opacity-70 cursor-not-allowed' : ''">
                                <i x-show="!isLoading" class="fas fa-save"></i>
                                <span x-show="!isLoading">Simpan Perubahan</span>
                                
                                <svg x-show="isLoading" class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                                </svg>
                            </button>
                        </div>

                    </div>

                </div>

            </main>

        </div>

    </div>

</body>
</html>